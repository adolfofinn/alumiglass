project:
  type: website
  output-dir: docs

website:
  title: "AlumiGlass"
  navbar:
    left:
      - href: index.qmd
        text: Inicio
      - href: servicios.qmd
        text: Servicios
      - href: proyectos.qmd
        text: Proyectos
      - href: contacto.qmd
        text: Contacto
    right:
      - text: "Cotizar"
        href: contacto.qmd

      # Dropdown Light/Dark estilo Bootswatch
      - text: "‚óê"
        menu:
          - text: "‚òÄ Light"
            href: "#"
            id: theme-set-light
          - text: "üåô Dark"
            href: "#"
            id: theme-set-dark

  page-footer:
    border: true
    center:
      - icon: facebook
        href: https://facebook.com/TU_USUARIO
        aria-label: Facebook
      - icon: instagram
        href: https://instagram.com/TU_USUARIO
        aria-label: Instagram
      - icon: tiktok
        href: https://tiktok.com/@TU_USUARIO
        aria-label: TikTok
    right: "¬© Copyright 2026"

format:
  html:
    theme:
      light: lux
      dark: lux
    css: styles.css
    include-in-header:
      - text: |
          <script>
          // Lux Light/Dark "real": mismo Lux, paleta dark por CSS variables + guardado en localStorage
          (function () {
            const KEY = "ag-theme";
            const root = document.documentElement;

            function getPreferred() {
              const saved = localStorage.getItem(KEY);
              if (saved === "light" || saved === "dark") return saved;
              return (window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches) ? "dark" : "light";
            }

            function apply(mode) {
              root.setAttribute("data-bs-theme", mode);
              localStorage.setItem(KEY, mode);
            }

            // aplica apenas cargue (antes de ver flash)
            apply(getPreferred());

            // expone helpers
            window.AGTheme = { apply };

            document.addEventListener("DOMContentLoaded", () => {
              const aLight = document.getElementById("theme-set-light");
              const aDark  = document.getElementById("theme-set-dark");
              if (aLight) aLight.addEventListener("click", (e) => { e.preventDefault(); apply("light"); });
              if (aDark)  aDark.addEventListener("click", (e) => { e.preventDefault(); apply("dark");  });
            });
          })();
          </script>
